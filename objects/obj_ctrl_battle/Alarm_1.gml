if(dir!=-1) dir_pick(dir);
else dir_pick(alarm_dir);
diagcheck=false;